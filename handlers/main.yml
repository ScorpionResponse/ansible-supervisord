---
- name: Start supervisord (systemd)
  listen: "start supervisord"
  systemd:
    name: supervisord
    enabled: yes
    state: started
  when:
    - ansible_service_mgr == 'systemd'

- name: Start supervisord (init)
  listen: "start supervisord"
  service:
    name: supervisord
    enabled: yes
    state: started
  when:
    - ansible_service_mgr == 'init'

- name: Restart supervisord
  systemd:
    name: supervisord
    state: restarted

- name: Stop supervisord
  systemd:
    name: supervisord
    state: stopped
